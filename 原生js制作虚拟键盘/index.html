<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Keyon Y"><title>原生js制作虚拟键盘 · Keyon Y</title><meta name="description" content="版权声明：此文首发于我的个人站原生js制作虚拟键盘，转载请注明出处。

今天想起来群友说过之前面试支付宝遇到的一个面试题：问有没有封装过虚拟键盘。就动手自己写个玩玩儿~
原生js完成的，没有做兼容。要注意的地方就是：

字符实体和字符，innerHTML和innerText的区别
原生方法写$的ad"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/tips.css"><link rel="stylesheet" href="/css/particles.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-5958703030488681",
enable_page_level_ads: true
});</script><script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script><style>.live2d{
  position: fixed;
  bottom: 0px;
  right: 20px !important;
  z-index: 999;
  width: 200px;
  height: 400px;
  pointer-events: none;
}</style></head><body><div class="sidebar animated fadeInDown"><div id="particles-js"></div><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/">H5</a></li></div></div><div class="logo-title"><div class="title"><img id="im_first" src="/images/logo@2x.png" style="width:127px;" class="im_first"><h3 class="help-tip"><a href="/about.html">Keyon Y</a><p>About Me</p></h3><i id="hig" onclick="hig()" ondblclick="location.reload(true);" class="high icon icon-high help-tip"><p>high~</p></i><div class="authorInfo"><span>前端工程师</span><br>专注于HTML5，JavaScript，NodeJS等前端技术，关注前沿技术。</div><ul class="contacts"><li class="help-tip"><i class="icon icon-email"></i><p>xilan999@gmail.com</p></li><li class="help-tip"><a href="https://github.com/KeyonY" target="_blank"><i class="icon icon-github"></i></a><p>GitHub</p></li><li class="help-tip"><a href="https://segmentfault.com/u/keyon_y" target="_blank"><i class="icon icon-sf"></i></a><p>SegmentFault</p></li><li class="help-tip"><a href="//shang.qq.com/wpa/qunwpa?idkey=b57130d22a218d71552629c90a96e451c49140279da320e696485771d39ee29a" target="_blank"><i class="icon icon-qqqun"></i></a><p>欢迎进群交流</p></li></ul></div></div><ul class="social-links"></ul><div class="footer"><div class="webinfo">Copyright © 2017 Keyon Y<br><a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备17016944号</a></div></div><script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script><script src="https://threejs.org/examples/js/libs/stats.min.js"></script><script src="/js/particles.js"></script></div><div class="main"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="breadCrumb"><a href="/" title="首页">首页</a>><a href="/tags/JavaScript/" title="JavaScript">JavaScript</a>><span>原生js制作虚拟键盘</span></div><div class="post animated fadeInDown"><div class="post-title"><h1><a>原生js制作虚拟键盘</a></h1><div class="info"><span>发布于&nbsp;&nbsp;</span><span class="date">2017-10-19</span><i class="icon icon-biaoqian"></i><a href="/tags/JavaScript/" title="JavaScript" class="tag">JavaScript</a><div class="visitorInfo"><i class="icon icon-liulan"></i><span id="原生js制作虚拟键盘" data-pageNum="undefined" class="leancloud_visitors"></span></div></div></div><div class="post-content"><blockquote>
<p>版权声明：此文首发于我的个人站<a href="http://xilan.me/%E5%8E%9F%E7%94%9Fjs%E5%88%B6%E4%BD%9C%E8%99%9A%E6%8B%9F%E9%94%AE%E7%9B%98/">原生js制作虚拟键盘</a>，转载请注明出处。</p>
</blockquote>
<p>今天想起来群友说过之前面试支付宝遇到的一个面试题：问有没有封装过虚拟键盘。<br>就动手自己写个玩玩儿~</p>
<p>原生js完成的，没有做兼容。<br>要注意的地方就是：</p>
<ul>
<li>字符实体和字符，innerHTML和innerText的区别</li>
<li>原生方法写$的addClass和removeClass</li>
</ul>
<p>效果如下图。<br><img src="http://ormqw9b48.bkt.clouddn.com/%E5%8E%9F%E7%94%9Fjs%E5%86%99%E8%BD%AF%E9%94%AE%E7%9B%98%E6%95%88%E6%9E%9C%E5%9B%BE.gif" alt="虚拟键盘"></p>
<p>下面上代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>虚拟键盘<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">		#inputArea&#123;position: absolute; top: 30%; left: 20%;&#125;</span></span><br><span class="line"><span class="undefined">		.keyboardBox&#123;position: fixed; top: 50%; left: 20%; width: 708px; height: 256px; margin: 0; padding: 10px; background-color: #ccc; font-size: 16px;&#125;</span></span><br><span class="line"><span class="undefined">		.line&#123;position: relative; height: 50px; line-height: 50px;&#125;</span></span><br><span class="line"><span class="undefined">		.keys, .keysCmd, .keys_d&#123;box-sizing: border-box; float: left; width: 45px; height: 45px; line-height: 45px; margin: 0 0 3px 3px; border-radius: 4px; border: 1px solid #333; text-align: center; cursor: pointer; background-color: #fff;&#125;</span></span><br><span class="line"><span class="undefined">		.keys:hover, .keysCmd:hover, .keys_d:hover&#123;box-shadow: 0px 0px 3px #333 inset;&#125;</span></span><br><span class="line"><span class="undefined">		.keys:active, .keysCmd:active, .keys_d:active&#123;background-color: #dedede;&#125;</span></span><br><span class="line"><span class="undefined">		.active&#123;background-color: #dedede; box-shadow: 0px 0px 3px #333 inset;&#125;</span></span><br><span class="line"><span class="undefined">		.keys_d&#123;height: 45px; line-height: 20px;&#125;</span></span><br><span class="line"><span class="undefined">		.key_enter&#123;width: 102px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-50&#123;width: 50px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-70&#123;width: 70px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-75&#123;width: 75px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-80&#123;width: 80px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-100&#123;width: 100px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-120&#123;width: 120px;&#125;</span></span><br><span class="line"><span class="undefined">		.k-w-704&#123;width: 704px;&#125;</span></span><br><span class="line"><span class="undefined">		.gap&#123;margin-left: 30px;&#125;</span></span><br><span class="line"><span class="undefined">		.gap_t&#123;margin-top: 10px;&#125;</span></span><br><span class="line"><span class="undefined">		.line .l-h-40&#123;line-height: 40px;&#125;</span></span><br><span class="line"><span class="undefined">		.f-s-14&#123;font-size: 14px;&#125;</span></span><br><span class="line"><span class="undefined">		.t-a-l&#123;padding-left: 15px; text-align: left;&#125;</span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"inputArea"</span> <span class="attr">id</span>=<span class="string">"inputArea"</span> <span class="attr">cols</span>=<span class="string">"80"</span> <span class="attr">rows</span>=<span class="string">"10"</span> <span class="attr">placeholder</span>=<span class="string">"点击虚拟键盘输入"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keyboardBox"</span> <span class="attr">id</span>=<span class="string">"keyboard"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line gap_t"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"192"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>~<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>`<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"49"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>!<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"50"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>@<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"51"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>#<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"52"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>$<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"53"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>%<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"54"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>^<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"55"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>&amp;amp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"56"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>*<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>8<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"57"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>(<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>9<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"48"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>)<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>0<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"189"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>_<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>-<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"187"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>+<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>=<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keysCmd k-w-80 l-h-40 f-s-14"</span> <span class="attr">data-kid</span>=<span class="string">"8"</span>&gt;</span>Backspace<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keysCmd k-w-50"</span> <span class="attr">data-kid</span>=<span class="string">"9"</span>&gt;</span>Tab<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"81"</span>&gt;</span>Q<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"87"</span>&gt;</span>W<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"69"</span>&gt;</span>E<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"82"</span>&gt;</span>R<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"84"</span>&gt;</span>T<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"89"</span>&gt;</span>Y<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"85"</span>&gt;</span>U<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"73"</span>&gt;</span>I<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"79"</span>&gt;</span>O<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"80"</span>&gt;</span>P<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"219"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>[<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"221"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>]<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d k-w-75 t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"220"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>|<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>\<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keysCmd k-w-70 f-s-14"</span> <span class="attr">data-kid</span>=<span class="string">"20"</span>&gt;</span>CapsLock<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"65"</span>&gt;</span>A<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"83"</span>&gt;</span>S<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"68"</span>&gt;</span>D<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"70"</span>&gt;</span>F<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"71"</span>&gt;</span>G<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"72"</span>&gt;</span>H<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"74"</span>&gt;</span>J<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"75"</span>&gt;</span>K<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"76"</span>&gt;</span>L<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"186"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>:<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"222"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>"<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>'<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keysCmd key_enter"</span> <span class="attr">data-kid</span>=<span class="string">"13"</span>&gt;</span>Enter<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keysCmd k-w-100"</span> <span class="attr">data-kid</span>=<span class="string">"16"</span>&gt;</span>Shift<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"90"</span>&gt;</span>Z<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"88"</span>&gt;</span>X<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"67"</span>&gt;</span>C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"86"</span>&gt;</span>V<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"66"</span>&gt;</span>B<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"78"</span>&gt;</span>N<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span> <span class="attr">data-kid</span>=<span class="string">"77"</span>&gt;</span>M<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		&lt;div class="keys_d t-a-l" data-kid="188"&gt;&lt;div&gt;&lt;&lt;/div&gt;&lt;div&gt;,&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"190"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>.<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys_d t-a-l"</span> <span class="attr">data-kid</span>=<span class="string">"191"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>?<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>/<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keysCmd k-w-120"</span> <span class="attr">data-kid</span>=<span class="string">"16"</span>&gt;</span>Shift<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys k-w-704"</span> <span class="attr">data-kid</span>=<span class="string">"32"</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"keyboard.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">new</span> keyboard().addKeyboard(<span class="string">'inputArea'</span>);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>JS代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//* keyboard.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> keyboard = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> keyboardObj = <span class="built_in">document</span>.getElementById(<span class="string">'keyboard'</span>), _inputID, _shiftStatus = <span class="literal">false</span>, _capsLock = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 显示虚拟键盘</span></span><br><span class="line">	<span class="keyword">var</span> _showKeyboard = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		keyboardObj.style.display = <span class="string">'block'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 隐藏虚拟键盘</span></span><br><span class="line">	<span class="keyword">var</span> _hideKeyboard = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		keyboardObj.style.display = <span class="string">'none'</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取输入框的内容</span></span><br><span class="line">	<span class="keyword">var</span> _getInputContent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> inputContent = <span class="built_in">document</span>.getElementById(_inputID).innerText || <span class="built_in">document</span>.getElementById(_inputID).textContent;</span><br><span class="line">		<span class="keyword">return</span> inputContent;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 输入新内容</span></span><br><span class="line">	<span class="keyword">var</span> _inputNewContent = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">		<span class="built_in">document</span>.getElementById(_inputID).innerHTML = str;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加classname</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">_addClass</span>(<span class="params">obj, cls</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> obj_class = obj.className,</span><br><span class="line">		blank = obj_class != <span class="string">''</span> ? <span class="string">' '</span> : <span class="string">''</span>;</span><br><span class="line">		<span class="keyword">var</span> added = obj_class + blank + cls;</span><br><span class="line">		obj.className = added;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 删除classname</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">_removeClass</span>(<span class="params">obj, cls</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> obj_class = <span class="string">' '</span> + obj.className + <span class="string">' '</span>;</span><br><span class="line">		obj_class = obj_class.replace(<span class="regexp">/(\s+)/gi</span>, <span class="string">' '</span>);</span><br><span class="line">		<span class="keyword">var</span> removed = obj_class.replace(<span class="string">' '</span> + cls + <span class="string">' '</span>, <span class="string">' '</span>);</span><br><span class="line">		removed = removed.replace(<span class="regexp">/(^\s+)|(\s+$)/g</span>, <span class="string">''</span>);</span><br><span class="line">		obj.className = removed;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 为按钮添加active</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">_addActive</span>(<span class="params">cls, keycode</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> keys = <span class="built_in">document</span>.getElementsByClassName(cls);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">of</span> keys)&#123;</span><br><span class="line">			<span class="keyword">if</span>(o.getAttribute(<span class="string">'data-kid'</span>) == keycode)&#123;</span><br><span class="line">				_addClass(o, <span class="string">'active'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 为按钮取消active</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">_removeActive</span>(<span class="params">cls, keycode</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> keys = <span class="built_in">document</span>.getElementsByClassName(cls);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">of</span> keys)&#123;</span><br><span class="line">			<span class="keyword">if</span>(o.getAttribute(<span class="string">'data-kid'</span>) == keycode)&#123;</span><br><span class="line">				_removeClass(o, <span class="string">'active'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加shift状态</span></span><br><span class="line">	<span class="keyword">var</span> _addShift = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		_addActive(<span class="string">'keysCmd'</span>, <span class="number">16</span>);</span><br><span class="line">		<span class="keyword">return</span> _shiftStatus = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 取消shift状态</span></span><br><span class="line">	<span class="keyword">var</span> _removeShift = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		_removeActive(<span class="string">'keysCmd'</span>, <span class="number">16</span>);</span><br><span class="line">		<span class="keyword">return</span> _shiftStatus = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加CapsLock状态</span></span><br><span class="line">	<span class="keyword">var</span> _addCapsLock = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		_addActive(<span class="string">'keysCmd'</span>, <span class="number">20</span>);</span><br><span class="line">		<span class="keyword">return</span> _capsLock = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 取消CapsLock状态</span></span><br><span class="line">	<span class="keyword">var</span> _removeCapsLock = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		_removeActive(<span class="string">'keysCmd'</span>, <span class="number">20</span>);</span><br><span class="line">		<span class="keyword">return</span> _capsLock = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 给按钮绑定触发键盘事件的事件</span></span><br><span class="line">	<span class="keyword">var</span> _bindEvent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="comment">// 字母按键</span></span><br><span class="line">		<span class="keyword">var</span> keys = keyboardObj.getElementsByClassName(<span class="string">'keys'</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">of</span> keys)&#123;</span><br><span class="line">			o.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">				<span class="keyword">var</span> strArr = _getInputContent().split(<span class="string">''</span>);</span><br><span class="line">				<span class="keyword">if</span>(_shiftStatus)&#123;</span><br><span class="line">					_capsLock = !_capsLock;</span><br><span class="line">					_capsLock ? strArr.push(<span class="keyword">this</span>.innerHTML.toUpperCase()) : strArr.push(<span class="keyword">this</span>.innerHTML.toLowerCase());</span><br><span class="line">					_capsLock = !_capsLock;</span><br><span class="line">					_removeShift();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;_capsLock ? strArr.push(<span class="keyword">this</span>.innerHTML.toUpperCase()) : strArr.push(<span class="keyword">this</span>.innerHTML.toLowerCase());&#125;</span><br><span class="line">				_inputNewContent(strArr.join(<span class="string">''</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 数字及特殊符号按键</span></span><br><span class="line">		<span class="keyword">var</span> keys_d = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'keys_d'</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">of</span> keys_d)&#123;</span><br><span class="line">			o.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">				<span class="keyword">var</span> strArr = _getInputContent().split(<span class="string">''</span>);</span><br><span class="line">				<span class="keyword">var</span> key1 = <span class="keyword">this</span>.getElementsByTagName(<span class="string">'div'</span>)[<span class="number">0</span>].innerHTML;</span><br><span class="line">				<span class="keyword">var</span> key2 = <span class="keyword">this</span>.getElementsByTagName(<span class="string">'div'</span>)[<span class="number">1</span>].innerHTML;</span><br><span class="line">				<span class="keyword">if</span>(_shiftStatus)&#123;</span><br><span class="line">					strArr.push(key1);</span><br><span class="line">					_removeShift();</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;strArr.push(key2);&#125;</span><br><span class="line">				_inputNewContent(strArr.join(<span class="string">''</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// shift、capslock、enter、tab、backspace 按钮</span></span><br><span class="line">		<span class="keyword">var</span> keysCmd = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'keysCmd'</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">of</span> keysCmd)&#123;</span><br><span class="line">			o.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">				<span class="keyword">var</span> strArr = _getInputContent().split(<span class="string">''</span>);</span><br><span class="line">				<span class="keyword">var</span> keyCode = <span class="keyword">this</span>.getAttribute(<span class="string">'data-kid'</span>);</span><br><span class="line">				<span class="keyword">if</span>(keyCode == <span class="number">8</span>)&#123;</span><br><span class="line">					strArr.pop();</span><br><span class="line">					_inputNewContent(strArr.join(<span class="string">''</span>));</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(keyCode == <span class="number">9</span>)&#123;</span><br><span class="line">					strArr.push(<span class="string">'&amp;nbsp;&amp;nbsp;'</span>);</span><br><span class="line">					_inputNewContent(strArr.join(<span class="string">''</span>));</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(keyCode == <span class="number">13</span>)&#123;</span><br><span class="line">					strArr.push(<span class="string">'\n'</span>);</span><br><span class="line">					_inputNewContent(strArr.join(<span class="string">''</span>));</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(keyCode == <span class="number">16</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(!_shiftStatus)&#123;_addShift();&#125;<span class="keyword">else</span>&#123;_removeShift();&#125;</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(keyCode == <span class="number">20</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(!_capsLock)&#123;_addCapsLock();&#125;<span class="keyword">else</span>&#123;_removeCapsLock();&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> keyboard = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 输入框绑定键盘</span></span><br><span class="line">	keyboard.prototype.addKeyboard = <span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">		_inputID = id</span><br><span class="line">		<span class="keyword">var</span> inputObj = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">		inputObj.onclick = _showKeyboard();</span><br><span class="line">		_bindEvent();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> keyboard;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/axios设置请求头内容/" title="上一篇：axios设置请求头内容" class="page_prev"><i class="icon icon-prev"></i>axios设置请求头内容</a></li><li class="next pagbuttons"><a role="navigation" href="/python在cmd中打印彩色文字-1/" title="下一篇：python在cmd中打印彩色文字" class="page_next">python在cmd中打印彩色文字<i class="icon icon-next"></i></a></li></ul></div><div id="SOHUCS"></div><script>(function(){ 
var appid = 'cyt95k857'; 
var conf = 'prod_5edfd38e4b166d10cd16ee46b351fc3f'; 
var width = window.innerWidth || document.documentElement.clientWidth; 
if (width < 960) { 
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("http://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })();</script></div></div></div></div><canvas id="live2dcanvas" width="400" height="800" class="live2d"></canvas>
<div id="hexo-helper-live2d">
  <canvas id="live2dcanvas" width="150" height="300"></canvas>
</div>
<style>
  #live2dcanvas{
    position: fixed;
    width: 150px;
    height: 300px;
    opacity:0.7;
    right: 0px;
    z-index: 999;
    pointer-events: none;
    bottom: -20px;
  }
</style>
<script type="text/javascript" src="/live2d/device.min.js"></script>
<script type="text/javascript">
const loadScript = function loadScript(c,b){var a=document.createElement("script");a.type="text/javascript";"undefined"!=typeof b&&(a.readyState?a.onreadystatechange=function(){if("loaded"==a.readyState||"complete"==a.readyState)a.onreadystatechange=null,b()}:a.onload=function(){b()});a.src=c;document.body.appendChild(a)};
(function(){
  if((typeof(device) != 'undefined') && (device.mobile())){
    document.getElementById("live2dcanvas").style.width = '75px';
    document.getElementById("live2dcanvas").style.height = '150px';
  }else
    if (typeof(device) === 'undefined') console.error('Cannot find current-device script.');
  loadScript("/live2d/script.js", function(){loadlive2d("live2dcanvas", "/live2d/assets/koharu.model.json", 0.5);});
})();
</script>
<script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/crazy.js"></script><script src="//cdn1.lncld.net/static/js/2.5.0/av-min.js"></script><script src="/js/leancloudConfig.js"></script><script src="/js/base.js"></script><script>$(function () {
    var todo = new leanCloud()._getTime('visitors');

    // tag添加active
    tags.run();
});
//定义hi.css
var htcss="/css/crazy.css";

//定义歌曲数组
var CrazyMusic=[
    "http://oroaawlhl.bkt.clouddn.com/this%20is%20how%20we%20do%20it.mp3"
];

//监听到ESC或鼠标双击动作，将停止所有效果
function KeyMonitor() { 
    if (event.keyCode == 27) {stopCrazy()};
 } 
$(document).bind("dblclick",stopCrazy);
$(document).bind("onkeydown ",KeyMonitor);

var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?513c51b8be88ed7f68c124d98de8e738";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></body></html>